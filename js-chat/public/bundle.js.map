{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://js-chat/./src/constants.js","webpack://js-chat/./src/listeners.js","webpack://js-chat/./src/render.js","webpack://js-chat/./src/services.js","webpack://js-chat/./src/state.js","webpack://js-chat/webpack/bootstrap","webpack://js-chat/webpack/runtime/define property getters","webpack://js-chat/webpack/runtime/hasOwnProperty shorthand","webpack://js-chat/webpack/runtime/make namespace object","webpack://js-chat/./src/chat.js"],"sourcesContent":["// Constants benefits\r\n// - reduces risk of typos (IDE can code-complete)\r\n// - easier to confirm it is correct (easier to check properties than strings)\r\n// - If a value changes, you can change it in one place and the rest of the code can continue to use the constant\r\n\r\n// Might be SERVER_CODES and CLIENT_CODES if we had more and different constants\r\nexport const SERVER = {\r\n  AUTH_MISSING: 'auth-missing',\r\n  AUTH_INSUFFICIENT: 'auth-insufficient',\r\n  REQUIRED_USERNAME: 'required-username',\r\n  REQUIRED_MESSAGE: 'required-message-input',\r\n};\r\n\r\nexport const CLIENT = {\r\n  NETWORK_ERROR: 'networkError',\r\n  NO_SESSION: 'noSession',\r\n};\r\n\r\nexport const MESSAGES = {\r\n  // The [] below uses the variable value as the key\r\n  [CLIENT.NETWORK_ERROR]: 'Trouble connecting to the network.  Please try again',\r\n  // Here we use 'dog' to simulate a bad password\r\n  [SERVER.AUTH_INSUFFICIENT]: 'Your username/password combination does not match any records, please try again.',\r\n  [SERVER.REQUIRED_USERNAME]: 'Please enter a valid (letters and/or numbers) username',\r\n  [SERVER.REQUIRED_MESSAGE]: 'Please enter the task to do',\r\n  default: 'Something went wrong.  Please try again',\r\n};\r\n","import {\r\n  fetchLogin,\r\n  fetchLogout,\r\n  fetchChat,\r\n  fetchUpdateTodo,\r\n  fetchAddChat,\r\n  fetchDeleteTodo,\r\n} from './services';\r\nimport {\r\n  waitOnchat,\r\n  setchat,\r\n  setError,\r\n  login,\r\n  logout,\r\n  updateTodo,\r\n  addChat,\r\n} from './state';\r\nimport render from './render';\r\n\r\nexport function addAbilityToLogin({ state,  appEl }) {\r\n  // Using 'submit' so we can get both submit via button-click and by \"enter\"\r\n  appEl.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    if(!e.target.classList.contains('Form')) {\r\n      return;\r\n    }\r\n\r\n    const username = appEl.querySelector('.Username').value;\r\n    waitOnchat();\r\n    render({ state, appEl }); // show loading state\r\n    fetchLogin( username )\r\n    .then( todos => {\r\n      login(username);\r\n      setchat(todos);\r\n      render({ state, appEl });\r\n    })\r\n    .catch( err => {\r\n      setError(err?.error || 'ERROR'); // Ensure that the error ends up truthy\r\n      render({ state, appEl });\r\n    });\r\n\r\n  });\r\n}\r\n\r\nexport function addAbilityToLogout({ state, appEl }) {\r\n  appEl.addEventListener('click', (e) => {\r\n    if(!e.target.classList.contains('logout')) {\r\n      return;\r\n    }\r\n    const username = state.username;\r\n    logout();\r\n    render({ state, appEl });\r\n    fetchLogout() // We don't really care about results\r\n    .catch( err => {\r\n      setError(err?.error || 'ERROR'); // Ensure that the error ends up truthy\r\n      render({ state, appEl });\r\n    });\r\n  });\r\n}\r\n\r\nexport function addAbilityToRefresh({ state, appEl }) {\r\n  appEl.addEventListener('click', (e) => {\r\n    if(!e.target.classList.contains('refresh_class')) {\r\n      return;\r\n    }\r\n\r\n    waitOnchat(); // Show loading state\r\n    render({ state, appEl });\r\n    fetchChat()\r\n    .then( chat => {\r\n      setchat(chat);\r\n      render({ state, appEl });\r\n    })\r\n    .catch( err => {\r\n      setError(err?.error || 'ERROR'); // Ensure that the error ends up truthy\r\n      render({ state, appEl });\r\n    });\r\n  });\r\n}\r\n\r\nexport function addAbilityToToggleComplete({ state, appEl }) {\r\n  appEl.addEventListener('click', (e) => {\r\n    if(!e.target.classList.contains('todo__toggle')) {\r\n      return;\r\n    }\r\n    const id = e.target.dataset.id;\r\n    // Here I elect not show a waiting status...what impact could that have?\r\n    fetchUpdateTodo(id, { done: !state.todos[id].done } )\r\n    .then( todo => { // Service call returns the updated todo\r\n      updateTodo({ id, todo });\r\n      render({ state, appEl });\r\n    })\r\n    .catch( err => {\r\n      console.log(err);\r\n      setError(err?.error || 'ERROR'); // Ensure that the error ends up truthy\r\n      render({ state, appEl });\r\n    });\r\n  });\r\n}\r\n\r\nexport function addAbilityToAddMessage({ state, appEl }) {\r\n  appEl.addEventListener('submit', (e) => {\r\n    if(!e.target.classList.contains('add__form')) {\r\n      return;\r\n    }\r\n    const textMessage = appEl.querySelector('.add__message').value;\r\n    // Here I elect not show a waiting status...what impact could that have?\r\n    fetchAddChat(textMessage)\r\n    .then( todo => {\r\n      // Notice we get the id of the new todo from the returned todo\r\n      addChat(textMessage);\r\n      render({ state, appEl });\r\n    })\r\n    .catch( err => {\r\n      console.log(err);\r\n      setError(err?.error || 'ERROR'); // Ensure that the error ends up truthy\r\n      render({ state, appEl });\r\n    });\r\n  });\r\n}\r\n\r\nexport function addAbilityToRemoveTodo({ state, appEl }) {\r\n  appEl.addEventListener('click', (e) => {\r\n    if(!e.target.classList.contains('todo__delete')) {\r\n      return;\r\n    }\r\n    const id = e.target.dataset.id;\r\n    waitOnchat(); // Show loading state\r\n    render({ state, appEl });\r\n    fetchDeleteTodo(id)\r\n      .then( () => {\r\n        return fetchChat(); // Return the promise so we can chain\r\n      })\r\n      .then( todos => {\r\n        setchat(todos);\r\n        render({ state, appEl });\r\n      })\r\n      .catch( err => {\r\n        setError(err?.error || 'ERROR'); // Ensure that the error ends up truthy\r\n        render({ state, appEl });\r\n      });\r\n  });\r\n}\r\n\r\n","\r\n\r\nfunction render({ state, appEl }) {\r\n  const html = `\r\n   <main class=\"main\">\r\n     ${ generateLoginHtml( state ) }\r\n     ${ generateContentHtml( state ) }\r\n   </main>\r\n  `;\r\n  appEl.innerHTML = html;\r\n}\r\n\r\nfunction generateLoginHtml( state ) {\r\n  if(state.isLoginPending) {\r\n    return `\r\n      <div class=\"login__Loading\">Loading user...</div>\r\n    `\r\n  }\r\n  if(state.isLoggedIn) {\r\n    return ``;\r\n  }\r\n\r\n  return `\r\n      <div class=\"login_class\">\r\n        <form class=\"Form\" action=\"#/login\">\r\n          <label>\r\n            <span class=\"label\">Username:</span>\r\n            <input class=\"Username\" placeholder=\" Type a name\" value=\"\">\r\n          </label>\r\n          <button class=\"Button\" type=\"submit\">Login</button>\r\n        </form>\r\n      </div>\r\n      <div class=\"Status\">${state.error}</div>\r\n     \r\n  `;\r\n}\r\n\r\nfunction showActiveUsers( state ){\r\n\r\n  const messagesHtml =\r\n  ` <h3 class=\"Active_user\">Users to chat with:</h3>` +\r\n    Object.values(state.chat.activeUsers)\r\n      .map(username => {\r\n        return `\r\n        <ul class=\"Act_users\">\r\n          <li>\r\n              <div class= \"Act_user\">\r\n                <span class=\"username\"> ${username} </span>\r\n              </div>\r\n          </li>\r\n        </ul>\r\n    `;\r\n      })\r\n      .join(\"\") || `<p class=\"Start_conversation\">Start the conversation!</p>`;\r\n  return messagesHtml;\r\n}\r\n\r\nfunction generateContentHtml( state ) {\r\n  if(!state.isLoggedIn) {\r\n    return ``;\r\n  }\r\n  if(state.isTodoPending) {\r\n    return `\r\n      <div class=\"Text\">\r\n        ${generateControlsHtml( state )}\r\n        <div class=\"todos__waiting\">Loading Todos...</div>\r\n      </div>\r\n    `;\r\n  }\r\n  return `\r\n      <div class=\"Text\">\r\n        ${showActiveUsers( state )}\r\n        ${generateControlsHtml( state )}\r\n        <ul class=\"Chat\">${createMessage( state )}</ul>\r\n        ${createMessageInputHtml( state )}\r\n      </div>\r\n  `;\r\n}\r\n\r\nfunction generateControlsHtml( state ) {\r\n  return `\r\n        <div class=\"remote\">\r\n          <button class=\"refresh_class\">Refresh</button>\r\n          <button class=\"logout\">Logout</button>\r\n        </div>\r\n  `;\r\n}\r\n\r\nfunction createMessage( state ) {\r\n    const messagesHtml =\r\n    Object.values(state.chat.userChat)\r\n      .map(chat => {\r\n        return `\r\n      <ul class=\"chats\">\r\n        <li>\r\n          <div class= \"chat\">\r\n            <div class=\"chat_info\">      \r\n              <span class=\"chat_username\">${chat.username}</span>\r\n            </div>\r\n            <p class=\"chat_text\"> --> ${chat.message}</p>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      `;\r\n      })\r\n      .join(\"\") || `<p class=\"no_chat\"> Start the conversation!</p>`;\r\n  return messagesHtml;\r\n}\r\n\r\nfunction createMessageInputHtml( state ) {\r\n  return `\r\n        <form class=\"add__form\" action=\"#/add\">\r\n          <input class=\"add__message\" name=\"message\">\r\n          <button type=\"submit\" class=\"add__button\">Send Message</button>\r\n        </form>\r\n  `;\r\n}\r\n\r\nexport default render;\r\n","\r\nexport function fetchAddChat(message) {\r\n  return fetch('/api/v1/chat', {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n      'content-type': 'application/json',\r\n    }),\r\n    body: JSON.stringify( { message } ),\r\n  })\r\n  .catch( () => Promise.reject({ error: 'networkError' }) )\r\n  .then( response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json()\r\n    .catch( error => Promise.reject({ error }) )\r\n    .then( err => Promise.reject(err) );\r\n  });\r\n}\r\n\r\nexport function fetchDeleteTodo(id) {\r\n  return fetch(`/api/todos/${id}`, {\r\n    method: 'DELETE',\r\n  })\r\n  .catch( () => Promise.reject({ error: 'networkError' }) )\r\n  .then( response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json()\r\n    .catch( error => Promise.reject({ error }) )\r\n    .then( err => Promise.reject(err) );\r\n  });\r\n}\r\n\r\nexport function fetchUpdateTodo( id, todoUpdates ) {\r\n  return fetch(`/api/todos/${id}`, {\r\n    method: 'PATCH',\r\n    headers: new Headers({\r\n      'content-type': 'application/json',\r\n    }),\r\n    body: JSON.stringify( todoUpdates ),\r\n  })\r\n  .catch( () => Promise.reject({ error: 'networkError' }) )\r\n  .then( response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json()\r\n    .catch( error => Promise.reject({ error }) )\r\n    .then( err => Promise.reject(err) );\r\n  });\r\n}\r\n\r\nexport function fetchChat() {\r\n  return fetch('/api/v1/chat')\r\n  .catch( () => Promise.reject({ error: 'networkError' }) )\r\n  .then( response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json()\r\n    .catch( error => Promise.reject({ error }) )\r\n    .then( err => Promise.reject(err) );\r\n  });\r\n}\r\n\r\nexport function fetchSession() {\r\n  return fetch('/api/v1/session', {\r\n    method: 'GET',\r\n  })\r\n  .catch( () => Promise.reject({ error: 'networkError' }) )\r\n  .then( response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json()\r\n    .catch( error => Promise.reject({ error }) )\r\n    .then( err => Promise.reject(err) );\r\n  });\r\n}\r\n\r\nexport function fetchLogout() {\r\n  return fetch('/api/v1/session', {\r\n    method: 'DELETE',\r\n  })\r\n  .catch( () => Promise.reject({ error: 'networkError' }) )\r\n  .then( response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json()\r\n    .catch( error => Promise.reject({ error }) )\r\n    .then( err => Promise.reject(err) );\r\n  });\r\n}\r\n\r\nexport function fetchLogin(username) {\r\n  return fetch('/api/v1/session', {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n      'content-type': 'application/json'\r\n    }),\r\n    body: JSON.stringify({ username }),\r\n  })\r\n  .catch( () => Promise.reject({ error: 'networkError' }) )\r\n  .then( response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return response.json()\r\n    .catch( error => Promise.reject({ error }) )\r\n    .then( err => Promise.reject(err) );\r\n  });\r\n}\r\n\r\n","import { MESSAGES } from './constants';\r\n\r\nconst state = {\r\n  chat: {},\r\n  activeUsers: {},\r\n  isLoggedIn: false,\r\n  isLoginPending: true, \r\n  username: '',\r\n  lastAddedTodoId: '',\r\n  error: '',\r\n};\r\n\r\nexport function waitOnLogin() {\r\n  state.isLoggedIn = false;\r\n  state.isLoginPending = true;\r\n  state.username = '';\r\n  state.error = '';\r\n}\r\n\r\nexport function login(username) {\r\n  state.isLoggedIn = true;\r\n  state.isLoginPending = false;\r\n  state.username = username;\r\n  state.error = '';\r\n}\r\n\r\nexport function logout() {\r\n  state.isLoggedIn = false;\r\n  state.isLoginPending = false;\r\n  state.username = '';\r\n  state.error = '';\r\n}\r\n\r\nexport function waitOnchat() {\r\n  state.error = '';\r\n}\r\n\r\nexport function setchat(chat) {\r\n  state.chat = chat;\r\n  state.isTodoPending = false;\r\n  state.error = '';\r\n}\r\n\r\nexport function updateTodo({ id, todo }) {\r\n  state.chat[id] = todo;\r\n  state.error = '';\r\n}\r\n\r\nexport function addChat(message) {\r\n  state.chat.userChat.push({ 'username' : state.username, 'message' : message});\r\n  state.error = '';\r\n}\r\n\r\nexport function addActiveUser({ username }) {\r\n  state.activeUsers = username;\r\n}\r\n\r\n\r\nexport function setError(error) {\r\n  console.log(error);\r\n  if(!error) {\r\n    state.error = '';\r\n    return;\r\n  }\r\n  state.error = MESSAGES[error] || MESSAGES.default;\r\n}\r\n\r\nexport default state;\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { SERVER, CLIENT } from './constants';\r\nimport state, {\r\n  login,\r\n  logout,\r\n  waitOnchat,\r\n  setchat,\r\n  setError,\r\n} from './state';\r\nimport {\r\n  fetchAddTodo,\r\n  fetchDeleteTodo,\r\n  fetchUpdateTodo,\r\n  fetchChat,\r\n  fetchSession,\r\n} from './services';\r\nimport render from './render';\r\nimport {\r\n  addAbilityToLogin,\r\n  addAbilityToLogout,\r\n  addAbilityToRefresh,\r\n  addAbilityToToggleComplete,\r\n  addAbilityToAddMessage,\r\n  addAbilityToRemoveTodo,\r\n} from './listeners';\r\n\r\n// Main code\r\n// This is where someone new to the code will see what happens on load\r\n// You want to make it easy to see the big picture\r\n// and easy to find the part you care about\r\n// - Why did you come here? To fix a bug? Add a feature?\r\n// - Make it easy to find the relevant code\r\n// - skimmable\r\n\r\nconst appEl = document.querySelector('#app');\r\nrender({ state, appEl });\r\naddAbilityToLogin({ state,  appEl });\r\naddAbilityToLogout({ state, appEl });\r\naddAbilityToRefresh({ state, appEl });\r\naddAbilityToToggleComplete({ state, appEl });\r\naddAbilityToAddMessage({ state, appEl });\r\naddAbilityToRemoveTodo({ state, appEl });\r\ncheckForSession();\r\n\r\n//////////\r\n\r\nfunction checkForSession() {\r\n  fetchSession()\r\n  .then( session => { // The returned object from the service call\r\n    login(session.username); // We do not have todos yet!\r\n    render({ state, appEl });            // Show we are logged in but don't have todos\r\n    return fetchChat(); // By returning this promise we can chain the original promise\r\n  })\r\n  .catch( err => {\r\n    if( err?.error === SERVER.AUTH_MISSING ) {\r\n      return Promise.reject({ error: CLIENT.NO_SESSION }) // Expected, not a problem\r\n    }\r\n    return Promise.reject(err); // Pass any other error unchanged\r\n  })\r\n  .then( todos => {\r\n    setchat(todos);\r\n    render({ state, appEl });\r\n  })\r\n  .catch( err => {\r\n    if( err?.error == CLIENT.NO_SESSION ) { // expected \"error\"\r\n      logout(); // No longer waiting, set to logged out case\r\n      render({ state, appEl });\r\n      return;\r\n    }\r\n    // For unexpected errors, report them\r\n    setError(err?.error || 'ERROR'); // Ensure that the error ends up truthy\r\n    render({ state, appEl });\r\n  });\r\n}\r\n\r\n"],"names":["SERVER","AUTH_MISSING","AUTH_INSUFFICIENT","REQUIRED_USERNAME","REQUIRED_MESSAGE","CLIENT","NETWORK_ERROR","NO_SESSION","MESSAGES","fetchLogin","fetchLogout","fetchChat","fetchUpdateTodo","fetchAddChat","fetchDeleteTodo","waitOnchat","setchat","setError","login","logout","updateTodo","addChat","render","addAbilityToLogin","state","appEl","addEventListener","e","preventDefault","target","classList","contains","username","querySelector","value","then","todos","err","error","addAbilityToLogout","addAbilityToRefresh","chat","addAbilityToToggleComplete","id","dataset","done","todo","console","log","addAbilityToAddMessage","textMessage","addAbilityToRemoveTodo","html","generateLoginHtml","generateContentHtml","innerHTML","isLoginPending","isLoggedIn","showActiveUsers","messagesHtml","Object","values","activeUsers","map","join","isTodoPending","generateControlsHtml","createMessage","createMessageInputHtml","userChat","message","fetch","method","headers","Headers","body","JSON","stringify","Promise","reject","response","ok","json","todoUpdates","fetchSession","lastAddedTodoId","waitOnLogin","push","addActiveUser","fetchAddTodo","document","checkForSession","session"],"sourceRoot":""}