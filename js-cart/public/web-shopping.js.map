{"version":3,"file":"web-shopping.js","mappings":"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","sources":["webpack://js-cart/./src/web-data.js","webpack://js-cart/webpack/bootstrap","webpack://js-cart/webpack/runtime/define property getters","webpack://js-cart/webpack/runtime/hasOwnProperty shorthand","webpack://js-cart/webpack/runtime/make namespace object","webpack://js-cart/./src/web-shopping.js"],"sourcesContent":["const itemCatalog = [\r\n    {name : \"Fluffball\", price : 0.99, imageUrl : \"http://placekitten.com/150/150?image=1\"},\r\n    {name : \"Meyhem\", price : 3.14, imageUrl : \"http://placekitten.com/150/150?image=2\"},\r\n    {name : \"Charlie\", price : 2.73, imageUrl : \"http://placekitten.com/150/150?image=3\"}\r\n];\r\n\r\nconst itemImageMapping = {\r\n    \"Fluffball\" : \"http://placekitten.com/50/50?image=1\",\r\n    \"Meyhem\" : \"http://placekitten.com/50/50?image=2\",\r\n    \"Charlie\" : \"http://placekitten.com/50/50?image=3\"\r\n}\r\n\r\nconst webpageData = {itemCatalog, itemImageMapping}\r\nexport default webpageData;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\r\nimport webpageData from './web-data';\r\n\r\n(function(){\r\n\r\n    const { itemCatalog } = webpageData;\r\n    const { itemImageMapping } = webpageData;\r\n\r\n    const PAGES = {\r\n        PRODUCT : 'product'\r\n    };\r\n\r\n    const renderFor = {\r\n        [PAGES.PRODUCT]: renderProducts,\r\n    };\r\n\r\n    function calculateTotal(){\r\n        let sum = 0;\r\n        Object.entries(state.cart).map(product => {\r\n            sum += (product[1].quantity * product[1].price);\r\n          })\r\n        return sum;\r\n    }\r\n\r\n    const state = {\r\n        cart : {},\r\n        page : PAGES.PRODUCT,\r\n        hideCartShow : false,\r\n        viewCartShow : true,\r\n        showCheckoutCart : true \r\n    };\r\n\r\n    \r\n    const appEl = document.querySelector(\"#app\");\r\n\r\n    addEventListeners();\r\n    render();\r\n\r\n    function render() {\r\n        renderFor[state.page]();\r\n    }\r\n\r\n    function getTotalItems(){\r\n        let sum = 0;\r\n        Object.entries(state.cart).map(item => {\r\n            sum += (item[1].quantity);\r\n            })\r\n        return sum;\r\n    }\r\n\r\n    function renderProducts(){\r\n        const itemCards = itemCatalog.map( (item, index) => {\r\n            return `<li class=\"product\">\r\n                <div class=\"card\">\r\n                    <img src=${item.imageUrl} alt=${item.name}>\r\n                     \r\n                        <form action=\"\" class=\"add-product\">             \r\n                            <span class=\"span1\" data-index=\"${item.name}\">${item.name}</span>\r\n                            <span class=\"span1\" data-index=\"${item.price}\">$${item.price}</span>\r\n                            <button data-index=${index} class=\"add-to-cart\" type=\"submit\">Add To Cart</button>\r\n                        </form>\r\n                    </div>\r\n                </li>`;\r\n        }).join('');\r\n\r\n        const checkoutItemList = Object.entries(state.cart).map( (item, index) => {\r\n                            return `<li class=\"cart-item\"> \r\n                                        <img src=${itemImageMapping[item[0]]} alt=${item[0]}>\r\n                                        <span class=\"span\" > ${item[0]} </span>\r\n                                        <input type=\"number\" min=\"0\" class=\"quantity-input\" data-index=\"${index}\" data-target=${item[0]} value=\"${item[1].quantity}\">\r\n                                        <button data-index=\"${index}\" class=\"delete\" type=\"button\">X</button>\r\n                                </li>`\r\n                        }).join('');\r\n\r\n        const noOfItems = getTotalItems();\r\n        const cartTotal = Number.parseFloat(calculateTotal()).toFixed(2);\r\n        const viewCartStatus = !state.viewCartShow ? \"hidden\" : \"\";\r\n        const hideCartStatus = !state.hideCartShow ? \"hidden\" : \"\";\r\n        let checkoutStatus = !state.showCheckoutCart ? \"hidden\" : \"\";\r\n        let messageToShow = \"\";\r\n        if(cartTotal > 0){\r\n            messageToShow = `Total Price : $${cartTotal}`;\r\n            checkoutStatus = \"\";\r\n        }else{\r\n            messageToShow = \"Please, add an item to the cart\";\r\n            checkoutStatus = \"hidden\";\r\n        }\r\n\r\n\r\n        appEl.innerHTML = `\r\n            <nav class=\"nav\">\r\n                <ol class=\"item-menu\">\r\n                    <li><button class=\"view-cart page ${viewCartStatus}\" data-target=\"view-cart\">View Cart(${noOfItems})</button></li>\r\n                    <li><button class=\"hide-cart page ${hideCartStatus}\" data-target=\"hide-cart\">Hide Cart</button></li>\r\n                </ol>\r\n\r\n            </nav>\r\n            <ul class=\"products\">\r\n                ${itemCards}\r\n            </ul>\r\n            <div class=\"checkout-area\">\r\n                <ul class=\"checkout-items ${hideCartStatus}\">\r\n                    ${checkoutItemList}\r\n                </ul>\r\n                <span class=\"span2 ${hideCartStatus}\"> ${messageToShow} </span>\r\n                <button class=\"checkout-btn ${checkoutStatus} ${hideCartStatus}\" data-target=\"checkout\">Checkout</buttton>\r\n            </div>    \r\n        `;\r\n    }\r\n\r\n    function addEventListeners(){\r\n        appEl.addEventListener('click', (e)=>{\r\n            if( e.target.classList.contains('add-to-cart') ){\r\n                const index = e.target.dataset.index;\r\n                const productObj = itemCatalog[index];\r\n                if (state.cart[productObj.name] === undefined){\r\n                    state.cart[productObj.name] = {quantity : 1, price : productObj.price};\r\n                }\r\n                else{\r\n                    state.cart[productObj.name]['quantity']++;\r\n                }\r\n                render();\r\n                return;\r\n            }\r\n\r\n            if(e.target.classList.contains('page')){\r\n                const target = e.target.dataset.target;\r\n                console.log(\"Selected Traget : \", target);\r\n                if (target == 'view-cart'){\r\n                    console.log(\"Clicked View Cart Button\");\r\n                    state.hideCartShow = true;\r\n                    state.viewCartShow = false;\r\n                }else{\r\n                    console.log(\"Clicked Hide Cart Button\");\r\n                    state.hideCartShow = false;\r\n                    state.viewCartShow = true;\r\n                }\r\n                render();\r\n                return;\r\n            }\r\n\r\n            if(e.target.classList.contains('checkout-btn')){\r\n                console.log(\"Clicked Checkout Button\");\r\n                state.showCheckoutCart = false;\r\n                state.cart = {};\r\n                render();\r\n                return;\r\n            }\r\n\r\n            if(e.target.classList.contains('quantity-input')){\r\n                const target = e.target.dataset.target;\r\n                const inputQuantity = document.querySelector(`[data-target=\"${target}\"]`).value;\r\n                state.cart[target]['quantity'] = parseInt(inputQuantity);\r\n                if (parseInt(inputQuantity) === 0){\r\n                    state.cart = Object.keys(state.cart).filter(key =>\r\n                        key !== target).reduce((obj, key) =>\r\n                        {\r\n                            obj[key] = state.cart[key];\r\n                            return obj;\r\n                        }, {}\r\n                    );\r\n                }\r\n                \r\n                render();\r\n                return;\r\n            }\r\n\r\n            if( e.target.classList.contains('delete')){\r\n                const index = e.target.dataset.index;\r\n                const deleteKey = Object.keys(state.cart)[index];\r\n                state.cart = Object.keys(state.cart).filter(key =>\r\n                    key !== deleteKey).reduce((obj, key) =>\r\n                    {\r\n                        obj[key] = state.cart[key];\r\n                        return obj;\r\n                    }, {}\r\n                );\r\n                render();\r\n                return;\r\n            }\r\n        });\r\n    }\r\n    \r\n\r\n})();\r\n\r\n\r\n"],"names":["itemCatalog","name","price","imageUrl","itemImageMapping","webpageData","PAGES","PRODUCT","renderFor","renderProducts","calculateTotal","sum","Object","entries","state","cart","map","product","quantity","page","hideCartShow","viewCartShow","showCheckoutCart","appEl","document","querySelector","addEventListeners","render","getTotalItems","item","itemCards","index","join","checkoutItemList","noOfItems","cartTotal","Number","parseFloat","toFixed","viewCartStatus","hideCartStatus","checkoutStatus","messageToShow","innerHTML","addEventListener","e","target","classList","contains","dataset","productObj","undefined","console","log","inputQuantity","value","parseInt","keys","filter","key","reduce","obj","deleteKey"],"sourceRoot":""}